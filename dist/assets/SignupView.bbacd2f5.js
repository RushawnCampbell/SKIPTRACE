import{_ as f,o as c,c as u,a as d,F as p,e as _,w as h,t as b,b as g,r as v,d as w}from"./index.f4fa2584.js";const y={data(){return{messages:[],csrf_token:""}},methods:{signupForm(){let o=document.getElementById("signupForm"),s=new FormData(o),l=this,e=document.querySelector("section#msg"),n=document.querySelectorAll("div input"),r=document.querySelector("#Biography"),t=0;fetch("/odmsec/signup",{method:"POST",body:s,headers:{Accept:"application/json","X-CSRFToken":this.csrf_token}}).then(i=>(t=i.status,i.json())).then(i=>{if(n.forEach(a=>{a.value=""}),r.value="",t==201){l.messages=[],l.messages.push("User Registered Successfully"),e.classList.add("alert-success"),e.classList.remove("alert-danger"),e.classList.remove("hide"),e.classList.add("show");const a=setTimeout(()=>{this.$router.push("/login"),clearTimeout(a)},3e3)}else if(t==200){let a=i;l.messages=[];for(let m=0;m<a.length;m++)l.messages.push(a[m]);e.classList.remove("alert-success"),e.classList.add("alert-danger"),e.classList.remove("hide"),e.classList.add("show")}})},getCsrfToken(){let o=this;fetch("/api/csrf-token").then(s=>s.json()).then(s=>{o.csrf_token=s.csrf_token})}},created(){this.getCsrfToken()}},S={class:"width"},x=d("h3",null,"Register New User",-1),F={class:"text-left card_"},k={id:"msg",class:"form-control alert hide"},L=g('<div class="d-inline-flex w_full"><div class="mb-3 space_between w_full"><label for="username" class="form-label">Username</label><input type="text" class="form-control w_full" name="username" id="username"></div><div class="mb-3 w_full"><label for="password" class="form-label">Password</label><input type="password" class="form-control w_full" name="password" id="password"></div></div><div class="d-inline-flex w_full"><div class="mb-3 space_between w_full"><label for="Fullname" class="form-label">Fullname</label><input type="text" class="form-control w_full" name="fullname" id="fullname"></div><div class="mb-3 w_full"><label for="email" class="form-label">Email Address</label><input type="email" class="form-control w_full" name="email" id="email"></div></div><div class="mb-3 w_full"><label for="location" class="form-label">Location</label><input type="text" class="form-control" name="location" id="location"></div><div class="mb-3 w_full"><label for="Biography" class="form-label">Biography</label><textarea class="form-control" name="biography" id="Biography"></textarea></div><div class="form-group"><label for="photo" class="form-label">Upload Photo</label> <br><input type="file" class="btn btn-light" id="photo" name="photo"> <br></div><button type="submit" class="btn_ btn-success">Register</button>',6),B=[L];function $(o,s,l,e,n,r){return c(),u("div",S,[x,d("div",F,[d("section",k,[(c(!0),u(p,null,_(n.messages,t=>(c(),u("li",null,b(t),1))),256))]),d("form",{onSubmit:s[0]||(s[0]=h((...t)=>r.signupForm&&r.signupForm(...t),["prevent"])),method:"POST",id:"signupForm",enctype:"multipart/form-data"},B,32)])])}var T=f(y,[["render",$]]);const C={data(){return[]},components:{Signup:T}};function E(o,s,l,e,n,r){const t=v("Signup");return c(),w(t)}var R=f(C,[["render",E]]);export{R as default};
